import{w as v,v as x,o as c,c as d,a as e,n as b,F as p,r as P,p as T,b as D,d as $,t as n,e as y,f as L,g,h as m,i as S}from"./vendor.213f33c0.js";const w=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&l(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}};w();var _=(t,a)=>{const r=t.__vccOpts||t;for(const[l,i]of a)r[l]=i;return r};const I={name:"Table",props:{data:Array},data(){return{inputText:"",filterText:"",moreInfo:"",sortDir:"asc",pageSize:25,currentPage:1}},computed:{filteredList(){return this.data.filter(t=>t.name.official.toLowerCase().includes(this.filterText.toLowerCase())).sort((t,a)=>{let r=this.sortDir==="desc"?-1:1;return t.name.official<a.name.official?-1*r:t.name.official>a.name.official?1*r:0})},pageData(){let t=(this.currentPage-1)*this.pageSize,a=this.currentPage*this.pageSize;return console.log("processed data",this.filteredList),this.filteredList.slice(t,a)},totalPage(){return Math.ceil(this.filteredList.length/this.pageSize)},isTableShow(){return this.data.length>0}},methods:{showMoreInfo(t){this.moreInfo="",axios.get("https://restcountries.com/v3.1/name/"+t.name.official).then(a=>{this.moreInfo=a.data[0].region})},sort:function(){this.sortDir=this.sortDir==="asc"?"desc":"asc"},toFilterData(){this.currentPage=1,this.filterText=this.inputText}}},u=t=>(T("data-v-0c1b51cc"),t=t(),D(),t),C={class:"table"},k=u(()=>e("th",null,"\u5E8F\u865F",-1)),z=u(()=>e("th",null,"\u570B\u65D7",-1)),M=$(" \u570B\u5BB6\u540D\u7A31"),F=u(()=>e("th",null,"2\u4F4D\u570B\u5BB6\u4EE3\u78BC",-1)),N=u(()=>e("th",null,"3\u4F4D\u570B\u5BB6\u4EE3\u78BC",-1)),A=u(()=>e("th",null,"\u6BCD\u8A9E\u540D\u7A31",-1)),O=u(()=>e("th",null,"\u66FF\u4EE3\u570B\u5BB6\u540D\u7A31",-1)),V=u(()=>e("th",null,"\u570B\u969B\u96FB\u8A71\u5340\u865F",-1)),B=["src"],E=["onClick"];function j(t,a,r,l,i,o){return v((c(),d("table",C,[e("thead",null,[k,z,e("th",{class:"sort",onClick:a[0]||(a[0]=(...s)=>o.sort&&o.sort(...s))},[M,e("i",{class:b(["bi",i.sortDir==="asc"?"bi-sort-alpha-down":"bi-sort-alpha-down-alt"])},null,2)]),F,N,A,O,V]),e("tbody",null,[(c(!0),d(p,null,P(o.pageData,(s,f)=>(c(),d("tr",{key:f},[e("td",null,n(i.pageSize*(i.currentPage-1)+f+1),1),e("td",null,[e("img",{src:s.flags[1],alt:"",width:"40"},null,8,B)]),e("td",{"data-bs-toggle":"modal","data-bs-target":"#moreInfoModal",onClick:h=>o.showMoreInfo(s)},n(s.name.official),9,E),e("td",null,n(s.cca2),1),e("td",null,n(s.cca3),1),e("td",null,n(s.name.nativeName),1),e("td",null,n(s.altSpellings),1),e("td",null,n(s.idd.root+s.idd.suffixes[0]),1)]))),128))])],512)),[[x,o.isTableShow]])}var q=_(I,[["render",j],["__scopeId","data-v-0c1b51cc"]]);const K={name:"Filter",data(){return{inputText:"",tableData:[],filterText:"",moreInfo:"",sortDir:"asc",pageSize:25,currentPage:1}},computed:{filteredList(){return this.tableData.filter(t=>t.name.official.toLowerCase().includes(this.filterText.toLowerCase())).sort((t,a)=>{let r=this.sortDir==="desc"?-1:1;return t.name.official<a.name.official?-1*r:t.name.official>a.name.official?1*r:0})}},methods:{filterData(){this.currentPage=1,this.filterText=this.inputText}}},R={class:"mb-4"},U={class:"row col-4"},G={class:"col-2"};function H(t,a,r,l,i,o){return c(),d("div",R,[e("div",U,[v(e("input",{type:"text",class:"form-control col",id:"filter","onUpdate:modelValue":a[0]||(a[0]=s=>i.inputText=s),placeholder:"Country Name..."},null,512),[[y,i.inputText,void 0,{trim:!0}]]),e("div",G,[e("button",{type:"button",class:"btn btn-primary",onClick:a[1]||(a[1]=s=>o.filterData())}," filter ")])])])}var J=_(K,[["render",H],["__scopeId","data-v-137343bc"]]);const Q={name:"Pagination",data(){return{inputText:"",tableData:[],filterText:"",moreInfo:"",sortDir:"asc",pageSize:25,currentPage:1}},computed:{filteredList(){return this.tableData.filter(t=>t.name.official.toLowerCase().includes(this.filterText.toLowerCase())).sort((t,a)=>{let r=this.sortDir==="desc"?-1:1;return t.name.official<a.name.official?-1*r:t.name.official>a.name.official?1*r:0})},pageData(){let t=(this.currentPage-1)*this.pageSize,a=this.currentPage*this.pageSize;return console.log("processed data",this.filteredList),this.filteredList.slice(t,a)},totalPage(){return Math.ceil(this.filteredList.length/this.pageSize)},isTableShow(){return this.tableData.length>0}},methods:{nextPage(){this.currentPage*this.pageSize<this.filteredList.length&&this.currentPage++},prevPage(){this.currentPage>1&&this.currentPage--},goToPage(t){this.currentPage=t}}},W={"aria-label":"Page navigation"},X={class:"pagination"},Y={class:"page-item"},Z=["onClick"],ee={class:"page-link"},te={class:"page-item"};function ae(t,a,r,l,i,o){return c(),d("nav",W,[e("ul",X,[e("li",Y,[e("a",{class:"page-link",onClick:a[0]||(a[0]=(...s)=>o.prevPage&&o.prevPage(...s))},"Previous")]),(c(!0),d(p,null,P(o.totalPage,(s,f)=>(c(),d("li",{class:b([{active:s===i.currentPage},"page-item"]),key:f,onClick:h=>o.goToPage(s)},[e("a",ee,n(s),1)],10,Z))),128)),e("li",te,[e("a",{class:"page-link",onClick:a[1]||(a[1]=(...s)=>o.nextPage&&o.nextPage(...s))},"Next")])])])}var ie=_(Q,[["render",ae],["__scopeId","data-v-a9f2de50"]]);const se={name:"App",components:{Table:q,Filter:J,Pagination:ie},data(){return{tableData:[]}},created(){L.get("https://restcountries.com/v3/all?fields=flags,name,cca2,cca3,altSpellings,idd").then(t=>{console.log("original data",t.data),this.tableData=t.data})}},oe=e("h2",null,"Vue Countries Table",-1),re={class:"container"},ne={class:"modal fade",id:"moreInfoModal",tabindex:"-1","aria-labelledby":"moreInfoModalLabel","aria-hidden":"true"},le={class:"modal-dialog"},ce={class:"modal-content"},de=e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"moreInfoModalLabel"},"Region"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),ue={class:"modal-body"},fe={class:"container"},_e={class:"table align-middle"};function he(t,a,r,l,i,o){const s=g("Filter"),f=g("Table"),h=g("Pagination");return c(),d(p,null,[oe,e("div",re,[m(s),m(f,{data:i.tableData},null,8,["data"]),m(h),e("div",ne,[e("div",le,[e("div",ce,[de,e("div",ue,[e("div",fe,[e("table",_e,[e("tbody",null,[e("tr",null,[e("td",null,n(t.moreInfo),1)])])])])])])])])])],64)}var pe=_(se,[["render",he]]);S(pe).mount("#app");
